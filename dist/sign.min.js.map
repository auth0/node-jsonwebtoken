{"version":3,"sources":["sign.js"],"names":["timespan","require","PS_SUPPORTED","jws","includes","isBoolean","isInteger","isNumber","isPlainObject","isString","once","SUPPORTED_ALGS","splice","sign_options_schema","expiresIn","isValid","value","message","notBefore","audience","Array","isArray","algorithm","bind","header","encoding","issuer","subject","jwtid","noTimestamp","keyid","mutatePayload","registered_claims_schema","iat","exp","nbf","validate","schema","allowUnknown","object","parameterName","Error","Object","keys","forEach","key","validator","validateOptions","options","validatePayload","payload","options_to_payload","options_for_objects","module","exports","secretOrPrivateKey","callback","isObjectPayload","Buffer","isBuffer","assign","alg","typ","undefined","kid","failure","err","error","invalid_options","filter","opt","length","join","timestamp","Math","floor","Date","now","claim","sign","secret","createSign","privateKey","signature"],"mappings":"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"}